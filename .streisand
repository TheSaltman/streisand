#!/bin/bash

# This file is sourced into vagrant's .bashrc file

alias start_redis='screen -dmS redis redis-server'
alias stop_redis='sudo killall redis-server'

alias start_tracker_uwsgi='uwsgi --ini /home/vagrant/streisand/uwsgi-tracker.ini'
alias stop_tracker_uwsgi='uwsgi --stop /tmp/streisand-tracker-master.pid'

alias start_www_uwsgi='uwsgi --ini /home/vagrant/streisand/uwsgi-www.ini'
alias stop_www_uwsgi='uwsgi --stop /tmp/streisand-www-master.pid'

alias start_nginx='sudo service nginx start'
alias stop_nginx='sudo service nginx stop'

alias start_celery='screen -dmS celery bash -c "cd /home/vagrant/streisand/streisand && STREISAND_DEBUG=False celery worker -A streisand -l info"'
alias stop_celery='sudo killall celery'

alias clean_slate='m reset_db --noinput; rm /home/vagrant/streisand/streisand/*/migrations/0001_initial.py; m makemigrations; m migrate; m loaddata dev'

alias runserver='/home/vagrant/streisand/streisand/manage.py runserver_plus 0.0.0.0:8000 --settings=streisand.settings.www_settings'
alias runtracker='/home/vagrant/streisand/streisand/manage.py runserver_plus 0.0.0.0:7070 --settings=streisand.settings.tracker_settings'
alias shell='/home/vagrant/streisand/streisand/manage.py shell_plus --settings=streisand.settings.www_settings'
alias m='/home/vagrant/streisand/streisand/manage.py'

export STREISAND_DEBUG=True
